!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).MiniMvvm=e()}(this,function(){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function a(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n,r;e=o,r=i[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=c(i);return e=a?(t=c(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?s(n):r}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}var h,p,v,y,m,b=(function(t){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){var n=t.data.attrs,r=e.data.attrs,o=e.elm;if((n||r)&&n!==r){for(var i in n=n||{},r=r||{}){var a=r[i];a!==n[i]&&o.setAttribute(i,a+"")}for(var c in n)c in r||o.removeAttribute(c)}}function r(t,e){var n=t.data.props,r=e.data.props,o=e.elm;if((n||r)&&n!==r){for(var i in r=r||{},n=n||{})r[i]||delete o[i];for(var a in r)r[a]!==n[a]&&(o[a]=r[a])}}function o(t,e){var n=t.data.on,r=t.elm,o=e.data.on,i=e.elm;if(n!==o){if(n)for(var a in n)r.removeEventListener(a,n[a]);if(o)for(var c in o)i.addEventListener(c,o[c])}}function y(t){return Object.prototype.toString.call(t).toLowerCase().match(/\s(\S+?)\]/)[1]}function m(t,e){for(var n,r=[];n=e.exec(t);)r.push([].slice.call(n));return r}var i,b,a,c,u,s,f,l;i=t,b=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),e.hook=e.hook||{},this.type=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.key=e.key}var t=i;return e(t,[{key:"isVNode",value:function(t){return t instanceof i}},{key:"isSameVNode",value:function(t,e){return t.key===e.key&&t.type===e.type}}]),i}(),a={create:n,update:n},c={create:r,update:r},u={create:o,update:o,destroy:o},s=["create","insert","update","destroy","remove"],f=new b(""),l=function(t){var n,c={create:[],insert:[],update:[],destroy:[],remove:[]},e=function(t){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=p(t))){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==e.return||e.return()}finally{if(a)throw o}}}}(0<arguments.length?t:[]);try{for(e.s();!(n=e.n()).done;)!function(){var e=n.value;s.forEach(function(t){return e[t]&&c[t].push(e[t])})}()}catch(t){e.e(t)}finally{e.f()}function v(t,n,r,e,o){for(var i=3<arguments.length&&void 0!==e?e:0,a=4<arguments.length&&void 0!==o?o:r.length-1;i<=a;i++)!function(){var e=r[i];t.insertBefore(function e(n){return"!"===n.type?n.elm=document.createComment(n.text):n.type?(n.elm=n.data.ns?document.createElementNS(n.data.ns,n.type):document.createElement(n.type),n.children&&n.children.forEach(function(t){n.elm.appendChild(e(t))}),n.text&&n.text.length&&n.elm.appendChild(document.createTextNode(n.text))):n.elm=document.createTextNode(n.text),c.create.forEach(function(t){return t(f,n)}),n.data.hook.create&&n.data.hook.create(),n.elm}(e),n),c.insert.forEach(function(t){return t(f,e)}),e.data.hook.insert&&e.data.hook.insert()}()}function y(t,n,e,r){for(var o=2<arguments.length&&void 0!==e?e:0,i=3<arguments.length&&void 0!==r?r:n.length-1;o<=i;o++)!function(){var e=n[o];t&&t.removeChild(e.elm),c.destroy.forEach(function(t){return t(e,f)}),e.data.hook.destroy&&e.data.hook.destroy()}()}return function(e,n){var t;return b.isVNode(e)||(e=new b("",{},[],void 0,e)),b.isSameVNode(e,n)?function p(e,n){var t=n.elm=e.elm,r=e.children,o=n.children;e!==n&&(void 0===n.text||n.text===e.text?(r&&o?r!==o&&function(t,e,n){for(var r,o=0,i=e[o],a=e.length-1,c=e[a],u=0,s=n[u],f=n.length-1,l=n[f];o<=a&&u<=f;)switch(!0){case!i:i=e[++o];break;case!c:c=e[--a];break;case!s:s=n[++u];break;case!l:l=e[--f];break;case b.isSameVNode(i,s):p(i,s),i=e[++o],s=n[++u];break;case b.isSameVNode(c,l):p(c,l),c=e[--a],l=n[--f];break;case b.isSameVNode(c,s):t.insertBefore(c.elm,t.childNodes[u]),p(c,s),c=e[--a],s=n[++u];break;case b.isSameVNode(i,l):t.insertBefore(c.elm,c.elm.nextSibling),p(i,l),i=e[++o],l=n[--f];break;default:var d,h=e.findIndex(function(t,e){return o<=e&&e<=a&&t&&b.isSameVNode(t,s)});~h?(d=e[h],e[h]=void 0,h!==u&&t.insertBefore(d.elm,t.childNodes[u]),p(d,s)):v(t,t.childNodes[u],[s]),s=n[++u]}a<o&&u<=f?v(t,null===(r=n[f+1])||void 0===r?void 0:r.elm,n.slice(u,f+1)):o<=a&&f<u&&y(t,e.slice(o,a+1).filter(function(t){return!!t}))}(t,r,o):o?(e.text&&(t.textContent=""),v(t,null,o)):r?(y(t,r),n.text&&(t.textContent=n.text)):e.text!==n.text&&(t.textContent=n.text),c.update.forEach(function(t){return t(e,n)}),n.data.hook.update&&n.data.hook.update()):t.textContent=n.text)}(e,n):(v((t=e.elm).parentNode,t,[n]),y(t.parentNode,[e]),c.insert.forEach(function(t){return t(e,n)})),n}}([a,c,u]),i.VNode=b,i.h=function t(e,n,r){var o,i,a,c,u,s,f,l=y(n),d=y(r);"object"===l?(o=n,"array"===d?a=r:"string"===d&&(i=r)):"array"===l?a=n:"string"===l&&(i=n),e&&null!=i&&(a=[t("",i)],i=void 0),e.length&&(o=o||{},(c=e.match(/#([^#\.\[\]]+)/))&&(o.props=o.props||{},o.props.id=c[1]),(u=m(e,/\.([^#\.\[\]]+)/g).map(function(t){return t[1]})).length&&(o.attrs=o.attrs||{},o.attrs.class&&u.push.apply(u,function(t){if(Array.isArray(t))return v(t)}(f=o.attrs.class.split(" ").filter(function(t){return t&&t.length}))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(f)||p(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o.attrs.class=u.join(" ")),(s=m(e,/\[(\S+?)=(\S+?)\]/g)).length&&(o.attrs=o.attrs||{},s.forEach(function(t){o.attrs[t[1]]=t[2]})),e=e.replace(/(#|\.|\[)\S*/g,"").toLowerCase().trim());var h=new b(e,o,a,i);return"svg"===h.type&&function t(e){e.type&&(e.data.ns="http://www.w3.org/2000/svg",e.children&&e.children.length&&e.children.forEach(t))}(h),h},i.patch=l,Object.defineProperty(i,"__esModule",{value:!0})}((p={path:h,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&p.path)}},p.exports)),p.exports),g=(v=b)&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v;(m=y=y||{})[m.normal=0]="normal",m[m.once=1]="once";var k=function(){function t(){i(this,t),this.subscription={}}return n(t,[{key:"$on",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:y.normal;this.subscription[t]=this.subscription[t]||[],this.subscription[t].push({type:r,listener:e})}},{key:"$once",value:function(t,e){this.$on(t,e,y.once)}},{key:"$off",value:function(t,e){var n=this.subscription[t]||[],r=n.findIndex(function(t){return t.listener===e});0<=r&&n.splice(r,1)}},{key:"$emit",value:function(t){for(var e=this.subscription[t]||[],n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0;i<e.length;i++){var a=e[i];a.listener.apply(a,r),a.type!==y.normal&&a.type===y.once&&(e.splice(i,1),i--)}}},{key:"$listeners",value:function(t){return this.subscription[t]||[]}},{key:"$events",get:function(){return Object.keys(this.subscription)}}]),t}();function w(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return Promise.resolve().then(t)}function x(t){return Object.prototype.toString.call(t).toLowerCase().match(/\s(\S+?)\]/)[1]}function O(t){return[].slice.call(t)}var $,j,_,S=(($=function(){t(n,k);var e=f(n);function n(){var t;return i(this,n),(t=e.apply(this,arguments))._data={},t.$data={},t._computedWatchers={},t._watchers=[],t.$nextTick=w,t}return n}()).nextTick=w,$.h=g.h,$.VNode=g.VNode,$.patch=g.patch,$);(_=j=j||{})[_.Element=1]="Element",_[_.Text=3]="Text",_[_.Comment=8]="Comment",_[_.DocumentFragment=11]="DocumentFragment";var E=["value","checked","disabled"];function A(t){if(t.nodeType===j.Text)return{tag:"",type:j.Text,text:t.textContent};if(t.nodeType!==j.Element)return null;var e,n,r,o,i,a=O(t.attributes).reduce(function(t,e){return t[e.name]=e.value,t},{}),c=O(t.childNodes).map(A).filter(function(t){return t}),u={tag:t.tagName.toLowerCase(),type:j.Element,attrs:a,children:c};return function(t){var e={};for(var n in t.attrs){var r,o,i=t.attrs[n];/^:?key$/.test(n)?(t.key=":"===n[0]?i:"'".concat(i,"'"),delete t.attrs[n]):/^:/.test(n)&&(r=n.slice(1),o="((".concat(i,"))"),delete t.attrs[n],e[r]=o)}Object.assign(t.attrs,e)}(u),function(t){for(var e in t.props=t.props||{},t.attrs)~E.indexOf(e)&&(t.props[e]=t.attrs[e],delete t.attrs[e])}(u),function(t){for(var e in t.events=t.events||{},t.attrs)/^@/.test(e)&&(/^(($|_)[\w$]*|[\w$]+)$/.test(t.attrs[e])&&(t.attrs[e]+="($event)"),t.events[e.slice(1)]=[t.attrs[e]],delete t.attrs[e])}(u),(i=(r=u).attrs[o="m-model"])&&(r.events.input=r.events.input||[],r.events.input.push("".concat(i,"=$event.target.value")),r.props.value="((".concat(i,"))"),delete r.attrs[o]),function(t){var e="m-for",n=t.attrs[e];if(n){var r=n.match(/^(\(\s*(\S+?)\s*,\s*(\S+?)\s*\)|(\S+?))\s+in\s+(.+)$/);if(!r)throw new Error("".concat(e,"表达式出错：").concat(e,'="').concat(n,'"'));t.for=r[5],t.forItem=r[2]||r[4],t.forIndex=r[3],delete t.attrs[e]}}(u),(n=(e=u).attrs["m-if"])&&(e.if=n,delete e.attrs["m-if"]),u}var N="__spVnode__",C=function(){function e(){i(this,e)}return n(e,[{key:"render",value:function(t){var e=document.createElement("div");e.innerHTML=t.trim();var n=A(e.children[0]),r="\nvar ".concat(N," = function(args){\n    var r = [];\n    args.forEach(function(item){\n        if(!item) return;\n\n        if(Object.prototype.toString.call(item) === '[object Array]'){\n            item=item.filter(function(n){\n                return !!n;\n            });\n            [].push.apply(r,item);\n        }\n        else{\n            r.push(item);\n        }\n    });\n    return r;\n}\nwith(this) {\n    return ").concat(this.ast2Render(n),";\n}\n        ");return new Function("h",r)}},{key:"ast2Render",value:function(t){return t.type===j.Text?this.textAst2Render(t):t.type===j.Element?this.eleAst2Render(t):null}},{key:"eleAst2Render",value:function(e){function t(){return(e.if?"!(".concat(e.if,")?null:"):"")+"h('".concat(e.tag,"',{\n                    ").concat(c,"\n                    attrs: ").concat(r,",\n                    props:").concat(o,",\n                    on:{").concat(a,"}\n                },\n                ").concat(N,"([\n                    ").concat(i,"\n                ])\n            )")}var n=this,r=JSON.stringify(e.attrs).replace(/"\(\(/g,"(").replace(/\)\)"/g,")"),o=JSON.stringify(e.props).replace(/"\(\(/g,"(").replace(/\)\)"/g,")"),i=e.children.map(function(t){return n.ast2Render(t)}).filter(function(t){return t}).join(",\n"),a=Object.keys(e.events).map(function(t){return""+"".concat(t,":(function($event){\n                        ").concat(e.events[t].join(";"),"\n                    }).bind(this)")}).join(","),c=e.key?"key:".concat(e.key,","):"";if(e.for){var u=e.forIndex?",".concat(e.forIndex):"";return""+"".concat(e.for,".map(function (").concat(e.forItem).concat(u,") {\n                    return ").concat(t(),"\n                })\n            ")}return t()}},{key:"textAst2Render",value:function(t){var e="'"+t.text.replace(/[\r\n\s]+/g," ").replace(/'/g,"\\'").replace(/\{\{(.*?)\}\}/g,"' + ($1) + '")+"'";return"h('', ".concat(e,")")}}],[{key:"render",value:function(t){return(new e).render(t)}}]),e}(),P=1,T=function(){function e(){i(this,e),this.subs=[],this.id=P++}return n(e,[{key:"add",value:function(t){~this.subs.indexOf(t)||this.subs.push(t)}},{key:"remove",value:function(t){var e=this.subs.indexOf(t);~e&&this.subs.splice(e,1)}},{key:"clear",value:function(){this.subs=[]}},{key:"depend",value:function(){var t=e.target;t&&(t.addDep(this),this.add(t))}},{key:"notify",value:function(){this.subs.forEach(function(t){return t.update()})}}]),e}(),I=["push","pop","shift","unshift","splice","sort","reverse"];function R(n,t,e){if("object"!==x(t))Object.defineProperty(n,t,a({enumerable:!0,configurable:!0},e));else{for(var r in n)!function(e){R(t,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}(r)}}var V=function(){function c(t){i(this,c);var e=x(t);~["object","array"].indexOf(e)&&(this.data="array"===e?{a:t}:t,this.observe())}return n(c,[{key:"observe",value:function(){var e=this;Object.keys(this.data).forEach(function(t){e.defineReactive(t),"object"===x(e.data[t])&&new c(e.data[t])})}},{key:"defineReactive",value:function(e){var n=this,r=new T;r.key=e;var o=this.data[e];R(this.data,e,{get:function(){return r.depend(),o},set:function(t){o!==t&&(o=t,n.appendArrayHooks(e),"object"===x(o)&&new c(o),r.notify())}}),R(this.data,"__ob__",{enumerable:!1,value:this}),this.appendArrayHooks(e)}},{key:"appendArrayHooks",value:function(r){var o=this,t=this.data[r];if("array"===x(t)){var e,n=d(I);try{for(n.s();!(e=n.n()).done;)!function(){var n=e.value;R(t,n,{enumerable:!1,get:function(){return function(){var t=o.data[r].slice(),e=t[n].apply(t,arguments);return o.data[r]=t,e}}})}()}catch(t){n.e(t)}finally{n.f()}var i,a=d(t);try{for(a.s();!(i=a.n()).done;){new c(i.value)}}catch(t){a.e(t)}finally{a.f()}}}}]),c}();function D(r,t){for(var e in r.$watch=function(t,e){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{immediate:!1}).immediate;r._watchers.push(new H(r,function(){return function(t,e){var n,r=t,o=d(e.split("."));try{for(o.s();!(n=o.n()).done;)r=r[n.value]}catch(t){o.e(t)}finally{o.f()}return r}(r,t)},e,{immediate:n}))},t){var n=t[e];"function"==typeof n?r.$watch(e,n):"object"===o(n)&&r.$watch(e,n.handler,{immediate:n.immediate})}}var M,L,H=function(){function o(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};i(this,o),this.invoked=!1,this.deps=[],this.vm=t,this.getter=e,this.cb=n,Object.assign(this,r),this.dirty=this.lazy,this.cb&&this.get()}return n(o,[{key:"addDep",value:function(t){~this.deps.indexOf(t)||this.deps.push(t)}},{key:"update",value:function(){var t=this;this.lazy?this.dirty=!0:this.cb?(this.dirty=!0,w(function(){t.dirty&&t.get()})):this.vm._update()}},{key:"clear",value:function(){var e=this;this.deps.forEach(function(t){return t.remove(e)}),this.deps=[]}},{key:"get",value:function(){this.clear();var t=this.value;T.target=this;try{this.value=this.getter.call(this.vm,this.vm),this.cb&&this.value!==t&&(this.immediate||this.invoked)&&this.cb.call(this.vm,this.value,t)}catch(t){throw console.log("watcher get error"),t}finally{T.target=null,this.dirty=!1,this.invoked=!0}return this.value}}]),o}();(L=M=M||{}).created="hook:created",L.beforeMount="hook:beforeMount",L.mounted="hook:mounted",L.beforeUpdate="hook:beforeUpdate",L.updated="hook:updated";var U=M;return function(){t(o,S);var r=f(o);function o(){var e,n,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i(this,o),(e=r.call(this))._update=(n=!1,function(){n=!0,w(function(){var t;n&&e.$options.$el&&(t=!1,e.$el||(e.$el=document.querySelector(e.$options.$el),t=!0),e.lastVnode=e.vnode||e.$el,e._watcher&&e._watcher.clear(),T.target=e._watcher=new H(s(e)),e.vnode=e.$options.render.call(s(e),g.h),T.target=null,t?e.$emit(U.beforeMount):e.$emit(U.beforeUpdate),g.patch(e.lastVnode,e.vnode),e.$el=e.vnode.elm,n=!1,t?e.$emit(U.mounted):e.$emit(U.updated))})}),e.$options=t,e._init(),e}return n(o,[{key:"_init",value:function(){var n;n=this,Object.keys(M).forEach(function(t){var e=n.$options[t];e&&(n[t]=e.bind(n),n.$on(M[t],n[t]))}),this._initMethods(),this._initData(),this._initComputed(),this._initWatch(),this.$emit(U.created),this._compile(),this._update()}},{key:"_compile",value:function(){var t=this.$options,e=t.$el,n=t.template;this.$options.render||!n&&!e||(this.$options.render=C.render(n||document.querySelector(e).outerHTML))}},{key:"_initData",value:function(){this.$options.data&&(this._data=this.$options.data.call(this),new V(this._data),R(this._data,this),R(this._data,this.$data))}},{key:"_initComputed",value:function(){this._computedWatchers=function(e,t){var r=1<arguments.length&&void 0!==t?t:{},o={};for(var n in r)!function(t){var n=new H(e,r[t],null,{lazy:!0});R(e,t,{get:function(){var t=T.target,e=n.dirty?n.get():n.value;return t&&(T.target=t,n.deps.forEach(function(t){return t.depend()})),e}}),o[t]=n}(n);return o}(this,this.$options.computed)}},{key:"_initMethods",value:function(){var e=this;Object.keys(this.$options.methods||{}).forEach(function(t){e[t]=e.$options.methods[t].bind(e)})}},{key:"_initWatch",value:function(){D(this,this.$options.watch)}},{key:"$mount",value:function(t){return this.$options.$el=t,this._update(),this}}]),o}()});
