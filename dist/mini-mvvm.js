!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MiniMvvm=e():t.MiniMvvm=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=1)}([function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,"h",(function(){return w})),n.d(e,"patch",(function(){return v})),n.d(e,"VNode",(function(){return i}));var i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;r(this,t),n.hook=n.hook||{},this.type=e,this.data=n,this.children=o,this.text=i,this.elm=a,this.key=n.key}var e,n;return e=t,(n=[{key:"isVNode",value:function(e){return e instanceof t}},{key:"isSameVNode",value:function(t,e){return t.key===e.key&&t.type===e.type}}])&&o(e,n),t}();function a(t,e){var n=t.data.attrs,r=e.data.attrs,o=e.elm;if((n||r)&&n!==r){for(var i in n=n||{},r=r||{}){var a=r[i];a!==n[i]&&o.setAttribute(i,a+"")}for(var u in n)u in r||o.removeAttribute(u)}}var u={create:a,update:a};function c(t,e){var n=t.data.props,r=e.data.props,o=e.elm;if((n||r)&&n!==r){for(var i in r=r||{},n=n||{})r[i]||delete o[i];for(var a in r)r[a]!==n[a]&&(o[a]=r[a])}}var f={create:c,update:c};function s(t,e){var n=t.data.on,r=t.elm,o=e.data.on,i=e.elm;if(n!==o){if(n)for(var a in n)r.removeEventListener(a,n[a]);if(o)for(var u in o)i.addEventListener(u,o[u])}}var l={create:s,update:s,destroy:s},d=["create","insert","update","destroy","remove"];function p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y=new i(""),v=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={create:[],insert:[],update:[],destroy:[],remove:[]},r=p(e);try{var o=function(){var e=t.value;d.forEach((function(t){return e[t]&&n[t].push(e[t])}))};for(r.s();!(t=r.n()).done;)o()}catch(t){r.e(t)}finally{r.f()}function a(t){return"!"===t.type?t.elm=document.createComment(t.text):t.type?(t.elm=t.data.ns?document.createElementNS(t.data.ns,t.type):document.createElement(t.type),t.children&&t.children.forEach((function(e){t.elm.appendChild(a(e))})),t.text&&t.text.length&&t.elm.appendChild(document.createTextNode(t.text))):t.elm=document.createTextNode(t.text),n.create.forEach((function(e){return e(y,t)})),t.data.hook.create&&t.data.hook.create(),t.elm}function u(t,e,r){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.length-1,u=function(){var i=r[o];t.insertBefore(a(i),e),n.insert.forEach((function(t){return t(y,i)})),i.data.hook.insert&&i.data.hook.insert()};o<=i;o++)u()}function c(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=function(){var o=e[r];t&&t.removeChild(o.elm),n.destroy.forEach((function(t){return t(o,y)})),o.data.hook.destroy&&o.data.hook.destroy()};r<=o;r++)i()}function f(t,e,n){for(var r,o=0,a=e[o],f=e.length-1,l=e[f],d=0,p=n[d],h=n.length-1,y=n[h];o<=f&&d<=h;)switch(!0){case!a:a=e[++o];break;case!l:l=e[--f];break;case!p:p=n[++d];break;case!y:y=e[--h];break;case i.isSameVNode(a,p):s(a,p),a=e[++o],p=n[++d];break;case i.isSameVNode(l,y):s(l,y),l=e[--f],y=n[--h];break;case i.isSameVNode(l,p):t.insertBefore(l.elm,t.childNodes[d]),s(l,p),l=e[--f],p=n[++d];break;case i.isSameVNode(a,y):t.insertBefore(l.elm,l.elm.nextSibling),s(a,y),a=e[++o],y=n[--h];break;default:var v=e.findIndex((function(t,e){return e>=o&&e<=f&&t&&i.isSameVNode(t,p)}));if(~v){var m=e[v];e[v]=void 0,v!==d&&t.insertBefore(m.elm,t.childNodes[d]),s(m,p)}else u(t,t.childNodes[d],[p]);p=n[++d]}o>f&&d<=h?u(t,null===(r=n[h+1])||void 0===r?void 0:r.elm,n.slice(d,h+1)):o<=f&&d>h&&c(t,e.slice(o,f+1).filter((function(t){return!!t})))}function s(t,e){var r=e.elm=t.elm,o=t.children,i=e.children;t!==e&&(void 0===e.text||e.text===t.text?(o&&i?o!==i&&f(r,o,i):i?(t.text&&(r.textContent=""),u(r,null,i)):o?(c(r,o),e.text&&(r.textContent=e.text)):t.text!==e.text&&(r.textContent=e.text),n.update.forEach((function(n){return n(t,e)})),e.data.hook.update&&e.data.hook.update()):r.textContent=e.text)}function l(t,e){if(i.isVNode(t)||(t=new i("",{},[],void 0,t)),i.isSameVNode(t,e))s(t,e);else{var r=t.elm;u(r.parentNode,r,[e]),c(r.parentNode,[t]),n.insert.forEach((function(n){return n(t,e)}))}return e}return l}([u,f,l]);function m(t){return Object.prototype.toString.call(t).toLowerCase().match(/\s(\S+?)\]/)[1]}function b(t,e){for(var n,r=[];n=e.exec(t);)r.push([].slice.call(n));return r}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e,n){var r,o,a,u=m(e),c=m(n);if("object"===u?(r=e,"array"===c?a=n:"string"===c&&(o=n)):"array"===u?a=e:"string"===u&&(o=e),t&&null!=o&&(a=[w("",o)],o=void 0),t.length){r=r||{};var f=t.match(/#([^#\.\[\]]+)/);f&&(r.props=r.props||{},r.props.id=f[1]);var s=b(t,/\.([^#\.\[\]]+)/g).map((function(t){return t[1]}));s.length&&(r.attrs=r.attrs||{},r.attrs.class&&s.push.apply(s,function(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.attrs.class.split(" ").filter((function(t){return t&&t.length})))),r.attrs.class=s.join(" "));var l=b(t,/\[(\S+?)=(\S+?)\]/g);l.length&&(r.attrs=r.attrs||{},l.forEach((function(t){r.attrs[t[1]]=t[2]}))),t=t.replace(/(#|\.|\[)\S*/g,"").toLowerCase().trim()}var d=new i(t,r,a,o);return"svg"===d.type&&function t(e){e.type&&(e.data.ns="http://www.w3.org/2000/svg",e.children&&e.children.length&&e.children.forEach((function(e){return t(e)})))}(d),d}e.default={patch:v,h:w,VNode:i}}]).default},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return X}));var r,o=n(0);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return Promise.resolve().then(t)}function f(t){return Object.prototype.toString.call(t).toLowerCase().match(/\s(\S+?)\]/)[1]}!function(t){t[t.normal=0]="normal",t[t.once=1]="once"}(r||(r={}));var s;s=365611;function l(t){return[].slice.call(t)}function d(t,e){var n,r=t,o=a(e.split("."));try{for(o.s();!(n=o.n()).done;){r=r[n.value]}}catch(t){o.e(t)}finally{o.f()}return r}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g,w,k=((g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(n,t);var e=v(n);function n(){var t;return h(this,n),(t=e.apply(this,arguments))._data={},t.$data={},t._computedWatchers={},t._watchers=[],t.$nextTick=c,t}return n}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subscription={}}var e,n,o;return e=t,(n=[{key:"$on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.normal;this.subscription[t]=this.subscription[t]||[],this.subscription[t].push({type:n,listener:e})}},{key:"$once",value:function(t,e){this.$on(t,e,r.once)}},{key:"$off",value:function(t,e){var n=this.subscription[t]||[],r=n.findIndex((function(t){return t.listener===e}));r>=0&&n.splice(r,1)}},{key:"$emit",value:function(t){for(var e=this.subscription[t]||[],n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];for(var a=0;a<e.length;a++){var u=e[a];u.listener.apply(u,o),u.type!==r.normal&&u.type===r.once&&(e.splice(a,1),a--)}}},{key:"$listeners",value:function(t){return this.subscription[t]||[]}},{key:"$events",get:function(){return Object.keys(this.subscription)}}])&&i(e.prototype,n),o&&i(e,o),t}())).nextTick=c,g.h=o.h,g.VNode=o.VNode,g.patch=o.patch,g);!function(t){t[t.Element=1]="Element",t[t.Text=3]="Text",t[t.Comment=8]="Comment",t[t.DocumentFragment=11]="DocumentFragment"}(w||(w={}));var O=["value","checked","disabled"];function j(t){if(t.nodeType===w.Text)return{tag:"",type:w.Text,text:t.textContent};if(t.nodeType===w.Element){var e=l(t.attributes).reduce((function(t,e){return t[e.name]=e.value,t}),{}),n=l(t.childNodes).map(j).filter((function(t){return t})),r={tag:t.tagName.toLowerCase(),type:w.Element,attrs:e,children:n};return function(t){var e={};for(var n in t.attrs){var r=t.attrs[n];if(/^:?key$/.test(n))t.key=":"===n[0]?r:"'".concat(r,"'"),delete t.attrs[n];else if(/^:/.test(n)){var o=n.slice(1),i="((".concat(r,"))");delete t.attrs[n],e[o]=i}}Object.assign(t.attrs,e)}(r),function(t){for(var e in t.props=t.props||{},t.attrs)~O.indexOf(e)&&(t.props[e]=t.attrs[e],delete t.attrs[e])}(r),function(t){for(var e in t.events=t.events||{},t.attrs)/^@/.test(e)&&(/^(($|_)[\w$]*|[\w$]+)$/.test(t.attrs[e])&&(t.attrs[e]+="($event)"),t.events[e.slice(1)]=[t.attrs[e]],delete t.attrs[e])}(r),function(t){var e=t.attrs["m-model"];e&&(t.events.input=t.events.input||[],t.events.input.push("".concat(e,"=$event.target.value")),t.props.value="((".concat(e,"))"),delete t.attrs["m-model"])}(r),function(t){var e=t.attrs["m-for"];if(e){var n=e.match(/^(\(\s*(\S+?)\s*,\s*(\S+?)\s*\)|(\S+?))\s+in\s+(.+)$/);if(!n)throw new Error("".concat("m-for","表达式出错：").concat("m-for",'="').concat(e,'"'));t.for=n[5],t.forItem=n[2]||n[4],t.forIndex=n[3],delete t.attrs["m-for"]}}(r),function(t){var e=t.attrs["m-if"];e&&(t.if=e,delete t.attrs["m-if"])}(r),r}return null}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"render",value:function(e){return(new t).render(e)}}],(n=[{key:"render",value:function(t){var e=document.createElement("div");e.innerHTML=t.trim();var n=j(e.children[0]),r="\nvar ".concat("__spVnode__"," = function(args){\n    var r = [];\n    args.forEach(function(item){\n        if(!item) return;\n\n        if(Object.prototype.toString.call(item) === '[object Array]'){\n            item=item.filter(function(n){\n                return !!n;\n            });\n            [].push.apply(r,item);\n        }\n        else{\n            r.push(item);\n        }\n    });\n    return r;\n}\nwith(this) {\n    return ").concat(this.ast2Render(n),";\n}\n        ");return new Function("h",r)}},{key:"ast2Render",value:function(t){return t.type===w.Text?this.textAst2Render(t):t.type===w.Element?this.eleAst2Render(t):null}},{key:"eleAst2Render",value:function(t){var e=this,n=JSON.stringify(t.attrs).replace(/"\(\(/g,"(").replace(/\)\)"/g,")"),r=JSON.stringify(t.props).replace(/"\(\(/g,"(").replace(/\)\)"/g,")"),o=t.children.map((function(t){return e.ast2Render(t)})).filter((function(t){return t})).join(",\n"),i=Object.keys(t.events).map((function(e){return""+"".concat(e,":(function($event){\n                        ").concat(t.events[e].join(";"),"\n                    }).bind(this)")})).join(","),a=t.key?"key:".concat(t.key,","):"",u=function(){return(t.if?"!(".concat(t.if,")?null:"):"")+"h('".concat(t.tag,"',{\n                    ").concat(a,"\n                    attrs: ").concat(n,",\n                    props:").concat(r,",\n                    on:{").concat(i,"}\n                },\n                ").concat("__spVnode__","([\n                    ").concat(o,"\n                ])\n            )")};if(t.for){var c=t.forIndex?",".concat(t.forIndex):"";return""+"".concat(t.for,".map(function (").concat(t.forItem).concat(c,") {\n                    return ").concat(u(),"\n                })\n            ")}return u()}},{key:"textAst2Render",value:function(t){var e="'"+t.text.replace(/[\r\n\s]+/g," ").replace(/'/g,"\\'").replace(/\{\{(.*?)\}\}/g,"' + ($1) + '")+"'";return"h('', ".concat(e,")")}}])&&S(e.prototype,n),r&&S(e,r),t}();function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $=1,E=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subs=[],this.id=$++}var e,n,r;return e=t,(n=[{key:"add",value:function(t){~this.subs.indexOf(t)||this.subs.push(t)}},{key:"remove",value:function(t){var e=this.subs.indexOf(t);~e&&this.subs.splice(e,1)}},{key:"clear",value:function(){this.subs=[]}},{key:"depend",value:function(){var e=t.target;e&&(e.addDep(this),this.add(e))}},{key:"notify",value:function(){this.subs.forEach((function(t){return t.update()}))}}])&&x(e.prototype,n),r&&x(e,r),t}();function P(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M=["push","pop","shift","unshift","splice","sort","reverse"];function R(t,e,n){if("object"!==f(e))Object.defineProperty(t,e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){N(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({enumerable:!0,configurable:!0},n));else{var r=function(n){R(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e}})};for(var o in t)r(o)}}var I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=f(e);~["object","array"].indexOf(n)&&(this.data="array"===n?{a:e}:e,this.observe())}var e,n,r;return e=t,(n=[{key:"observe",value:function(){var e=this;Object.keys(this.data).forEach((function(n){e.defineReactive(n),"object"===f(e.data[n])&&new t(e.data[n])}))}},{key:"defineReactive",value:function(e){var n=this,r=new E;r.key=e;var o=this.data[e];R(this.data,e,{get:function(){return r.depend(),o},set:function(i){o!==i&&(o=i,n.appendArrayHooks(e),"object"===f(o)&&new t(o),r.notify())}}),R(this.data,"__ob__",{enumerable:!1,value:this}),this.appendArrayHooks(e)}},{key:"appendArrayHooks",value:function(e){var n=this,r=this.data[e];if("array"===f(r)){var o,i=P(M);try{var a=function(){var t=o.value;R(r,t,{enumerable:!1,get:function(){return function(){var r=n.data[e].slice(),o=r[t].apply(r,arguments);return n.data[e]=r,o}}})};for(i.s();!(o=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}var u,c=P(r);try{for(c.s();!(u=c.n()).done;)new t(u.value)}catch(t){c.e(t)}finally{c.f()}}}}])&&T(e.prototype,n),r&&T(e,r),t}();function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var U,H=function(){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};V(this,t),this.invoked=!1,this.deps=[],this.vm=e,this.getter=n,this.cb=r,Object.assign(this,o),this.dirty=this.lazy,this.cb&&this.get()}var e,n,r;return e=t,(n=[{key:"addDep",value:function(t){~this.deps.indexOf(t)||this.deps.push(t)}},{key:"update",value:function(){var t=this;this.lazy?this.dirty=!0:this.cb?(this.dirty=!0,c((function(){t.dirty&&t.get()}))):this.vm._update()}},{key:"clear",value:function(){var t=this;this.deps.forEach((function(e){return e.remove(t)})),this.deps=[]}},{key:"get",value:function(){this.clear();var t=this.value;E.target=this;try{this.value=this.getter.call(this.vm,this.vm),this.cb&&this.value!==t&&(this.immediate||this.invoked)&&this.cb.call(this.vm,this.value,t)}catch(t){throw console.log("watcher get error"),t}finally{E.target=null,this.dirty=!1,this.invoked=!0}return this.value}}])&&D(e.prototype,n),r&&D(e,r),t}();!function(t){t.created="hook:created",t.beforeMount="hook:beforeMount",t.mounted="hook:mounted",t.beforeUpdate="hook:beforeUpdate",t.updated="hook:updated"}(U||(U={}));var B=U;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Q(t);if(e){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?K(t):e}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(a,t);var e,n,r,i=J(a);function a(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z(this,a),(t=i.call(this))._update=(e=!1,function(){e=!0,c((function(){if(e&&t.$options.$el){var n=!1;t.$el||(t.$el=document.querySelector(t.$options.$el),n=!0),t.lastVnode=t.vnode||t.$el,t._watcher&&t._watcher.clear(),E.target=t._watcher=new H(K(t)),t.vnode=t.$options.render.call(K(t),o.h),E.target=null,n?t.$emit(B.beforeMount):t.$emit(B.beforeUpdate),Object(o.patch)(t.lastVnode,t.vnode),t.$el=t.vnode.elm,e=!1,n?t.$emit(B.mounted):t.$emit(B.updated)}}))}),t.$options=n,t._init(),t}return e=a,(n=[{key:"_init",value:function(){var t;t=this,Object.keys(U).forEach((function(e){var n=t.$options[e];n&&(t[e]=n.bind(t),t.$on(U[e],t[e]))})),this._initMethods(),this._initData(),this._initComputed(),this._initWatch(),this.$emit(B.created),this._compile(),this._update()}},{key:"_compile",value:function(){var t=this.$options,e=t.$el,n=t.template;this.$options.render||!n&&!e||(this.$options.render=_.render(n||document.querySelector(e).outerHTML))}},{key:"_initData",value:function(){this.$options.data&&(this._data=this.$options.data.call(this),new I(this._data),R(this._data,this),R(this._data,this.$data))}},{key:"_initComputed",value:function(){this._computedWatchers=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=function(r){var o=new H(t,e[r],null,{lazy:!0});R(t,r,{get:function(){var t=E.target,e=o.dirty?o.get():o.value;return t&&(E.target=t,o.deps.forEach((function(t){return t.depend()}))),e}}),n[r]=o};for(var o in e)r(o);return n}(this,this.$options.computed)}},{key:"_initMethods",value:function(){var t=this;Object.keys(this.$options.methods||{}).forEach((function(e){t[e]=t.$options.methods[e].bind(t)}))}},{key:"_initWatch",value:function(){!function(t,e){for(var n in t.$watch=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{immediate:!1},o=r.immediate;t._watchers.push(new H(t,(function(){return d(t,e)}),n,{immediate:o}))},e){var r=e[n];"function"==typeof r?t.$watch(n,r):"object"===L(r)&&t.$watch(n,r.handler,{immediate:r.immediate})}}(this,this.$options.watch)}},{key:"$mount",value:function(t){return this.$options.$el=t,this._update(),this}}])&&F(e.prototype,n),r&&F(e,r),a}(k)}]).default}));